<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com; connect-src 'self' https://api.github.com;">
    <title>Fyenance</title>
    
    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="57x57" href="../assets/images/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="../assets/images/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="../assets/images/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="../assets/images/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="../assets/images/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="../assets/images/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="../assets/images/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="../assets/images/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="../assets/images/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="../assets/images/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../assets/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="../assets/images/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../assets/images/favicon-16x16.png">
    <link rel="manifest" href="../assets/images/manifest.json">
    
    <!-- Meta Tags -->
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="../assets/images/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter+Tight:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/tutorial.css">
</head>
<body class="preload">
    <!-- Loading Screen -->
    <div class="app-loader">
        <div class="loader-animation">
            <div class="coin"></div>
        </div>
    </div>

    <!-- Header -->
    <header>
        <div class="logo">
            <img src="../assets/images/favicon-96x96.png" alt="Fyenance Logo" class="logo-icon">
            <h1>Fyenance</h1>
        </div>
        
        <!-- Navigation -->
        <nav>
            <button class="tablink active" data-section="Dashboard">
                <i class="fas fa-home"></i>
                <span>Dashboard</span>
            </button>
            <button class="tablink" data-section="Accounts">
                <i class="fas fa-wallet"></i>
                <span>Accounts</span>
            </button>
            <button class="tablink" data-section="Transactions">
                <i class="fas fa-exchange-alt"></i>
                <span>Transactions</span>
            </button>
            <button class="tablink" data-section="Recurring">
                <i class="fas fa-sync"></i>
                <span>Recurring</span>
            </button>
            <button class="tablink" data-section="Categories">
                <i class="fas fa-tags"></i>
                <span>Categories</span>
            </button>
            <button class="tablink" data-section="Reports">
                <i class="fas fa-chart-bar"></i>
                <span>Reports</span>
            </button>
            <button class="tablink" data-section="Settings">
                <i class="fas fa-cog"></i>
                <span>Settings</span>
            </button>
        </nav>
        
        <!-- Window Controls -->
        <div class="window-controls">
            <button class="window-control-button minimize" id="minimizeButton">
                <i class="fas fa-minus-circle"></i>
            </button>
            <button class="window-control-button close" id="closeButton">
                <i class="fas fa-times-circle"></i>
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <div id="content">
        <!-- Dashboard Section -->
        <div id="Dashboard" class="section active">
            <div class="section-header">
                <h2>Dashboard</h2>
                <div class="account-selector">
                    <select id="dashboard-account-selector" class="select-styled">
                        <option value="all">All Accounts</option>
                    </select>
                </div>
            </div>

            <div id="dashboard-content" class="content">
                <!-- Move all dashboard content here (banner, stats-grid, charts-grid) -->
                <div class="dashboard-banner">
                    <div class="banner-content">
                        <div class="banner-stat">
                            <span class="banner-label">Net Worth</span>
                            <h2>$<span id="total-net-worth">0.00</span></h2>
                        </div>
                        <div class="banner-insights">
                            <div class="insight">
                                <i class="fas fa-chart-line"></i>
                                <span id="monthly-trend">Your spending is 12% lower than last month</span>
                            </div>
                            <div class="insight">
                                <i class="fas fa-calendar-alt"></i>
                                <span id="upcoming-payments">3 recurring payments due this week</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>This Month's Balance</h3>
                        <div class="value">$<span id="this-month-balance">0.00</span></div>
                    </div>
                    <div class="stat-card">
                        <h3>This Month's Income</h3>
                        <div class="value positive">$<span id="this-month-income">0.00</span></div>
                    </div>
                    <div class="stat-card">
                        <h3>This Month's Expenses</h3>
                        <div class="value negative">$<span id="this-month-expenses">0.00</span></div>
                    </div>
                </div>

                <div class="charts-grid">
                    <div class="chart-container daily-spending">
                        <h3>Daily Spending</h3>
                        <canvas id="dailySpendingChart"></canvas>
                    </div>
                    <div class="chart-container upcoming-expenses">
                        <div id="upcomingExpensesCalendar" class="calendar-view"></div>
                    </div>
                </div>
            </div>

            <div id="dashboard-empty-state" class="empty-state">
                <div class="empty-state-icon">
                    <i class="fas fa-chart-line"></i>
                </div>
                <h3>Welcome to Your Financial Dashboard</h3>
                <p>Start by adding your first account to track your finances</p>
                <button class="primary-btn" id="add-first-account-btn">
                    <i class="fas fa-plus"></i> Add Your First Account
                </button>
            </div>
        </div>

        <!-- Accounts Section -->
        <div id="Accounts" class="section">
            <div class="section-header">
                <h2>Accounts</h2>
                <button class="add-btn" id="show-add-account">+ Add Account</button>
            </div>

            <div id="accounts-content" class="content">
                

                

                <div class="card">
                    <table>
                        <thead>
                            <tr>
                                <th>Account Name</th>
                                <th>Balance</th>
                                <th class="text-right">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="accounts-table-body">
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="add-account-modal" class="modal">
              <div class="modal-backdrop"></div>
              <div class="modal-content">
                  <span class="close" id="close-add-account">&times;</span>
                  <h3>Add New Account</h3>
                  <form id="add-account-form">
                      <div class="form-group">
                          <label for="account-name">Account Name</label>
                          <input type="text" id="account-name" name="name" placeholder="e.g., Checking Account" required>
                      </div>
                      <div class="form-group">
                          <label for="account-balance">Initial Balance</label>
                          <input type="number" id="account-balance" name="balance" placeholder="0.00" step="0.01" required>
                      </div>
                      <div class="form-actions">
                          <button type="submit" class="primary-btn">Add Account</button>
                          <button type="button" class="secondary-btn" id="cancel-add-account">Cancel</button>
                      </div>
                  </form>
              </div>
          </div>

            <div id="accounts-empty-state" class="empty-state">
              <div class="empty-state-icon">
                  <i class="fas fa-wallet"></i>
              </div>
              <h3>No Accounts Yet</h3>
              <p>Add your bank accounts, credit cards, or cash to start tracking</p>
              <button class="primary-btn" onclick="document.getElementById('show-add-account').click()">
                  <i class="fas fa-plus"></i> Add Account
              </button>
          </div>
        </div>

        <div id="Transactions" class="section">
          <!-- Header Section -->
          <div class="section-header">
              <h2>Transactions</h2>
              <div class="table-controls">
                  <div class="global-search">
                      <input type="text" class="search-input" placeholder="Search transactions...">
                      <button class="advanced-filters-btn" data-target="transactions-filters">
                          <i class="fas fa-sliders-h"></i>
                          Filters
                      </button>
                  </div>
                  <button class="add-btn" id="add-transaction-btn">+ Add Transaction</button>
              </div>
          </div>
          
          <!-- Transactions Advanced Filters Panel -->
          <div id="transactions-filters" class="advanced-filters-panel">
              <div class="filters-header">
                  <h3>Transaction Filters</h3>
                  <button class="close-filters"><i class="fas fa-times"></i></button>
              </div>
              <div class="filters-content">
                  <div class="filter-group">
                      <select id="transaction-type-filter" class="select-styled">
                          <option value="all">All Types</option>
                          <option value="income">Income</option>
                          <option value="expense">Expense</option>
                      </select>
                      <select id="transaction-category-filter" class="select-styled">
                          <option value="all">All Categories</option>
                      </select>
                  </div>
                  <div class="sort-group">
                      <select id="transaction-sort" class="select-styled">
                          <option value="date-desc">Date (Newest)</option>
                          <option value="date-asc">Date (Oldest)</option>
                          <option value="amount-desc">Amount (Highest)</option>
                          <option value="amount-asc">Amount (Lowest)</option>
                      </select>
                  </div>
              </div>
              <div class="filters-footer">
                  <button class="secondary-btn" id="reset-transaction-filters">Reset</button>
                  <button class="primary-btn" id="apply-transaction-filters">Apply</button>
              </div>
          </div>
          
          <div class="entry-tools">
            <div class="quick-entry-container">
                <input type="text" id="quick-entry-input" placeholder="Quick entry (e.g. '25.99 groceries')" class="quick-entry-input">
                <button class="secondary-btn" id="show-bulk-entry">Bulk Entry</button>
            </div>
          </div>
          
          <!-- Bulk Entry Modal -->
          <div id="bulk-entry-modal" class="modal">
            <div class="modal-backdrop"></div>
            <div class="modal-content wide-modal">
              <span class="close" id="close-bulk-entry">&times;</span>
              <h3>Bulk Transaction Entry</h3>
              
              <div class="bulk-entry-controls">
                <select id="bulk-entry-account" class="select-styled">
                  
                </select>
                <button id="bulk-entry-add-row" class="secondary-btn">Add Row</button>
                <button id="bulk-entry-submit" class="primary-btn">Save All</button>
              </div>
          
              <div class="bulk-entry-table">
                <table>
                  <thead>
                    <tr>
                      <th>Date</th>
                      <th>Amount</th>
                      <th>Type</th>
                      <th>Category</th>
                      <th>Description</th>
                      <th>Actions</th>
                    </tr>
                  </thead>
                  <tbody id="bulk-entry-tbody">
                    <!-- Rows will be added dynamically -->
                  </tbody>
                </table>
              </div>
            </div>
          </div>
          <!-- Empty State -->
          <div id="transactions-empty-state" class="empty-state">
              <div class="empty-state-icon">
                  <i class="fas fa-exchange-alt"></i>
              </div>
              <h3>No Transactions Yet</h3>
              <p>Start tracking your income and expenses</p>
              <button class="primary-btn" onclick="document.getElementById('add-transaction-btn').click()">
                  <i class="fas fa-plus"></i> Add Transaction
              </button>
          </div>
      
          <!-- Add Transaction Modal -->
          <div id="add-transaction-modal" class="modal">
              <div class="modal-backdrop"></div>
              <div class="modal-content">
                  <span class="close" id="close-add-transaction">&times;</span>
                  <h3>Add Transaction</h3>
                  
                  <form id="add-transaction-form">
                      <div class="form-row">
                          <div class="form-group">
                              <label for="add-transaction-account">Account</label>
                              <select id="add-transaction-account" name="account" required></select>
                          </div>
                          <div class="form-group">
                              <label for="add-transaction-type">Type</label>
                              <select id="add-transaction-type" name="type" required>
                                  <option value="income">Income</option>
                                  <option value="expense">Expense</option>
                              </select>
                          </div>
                          <div class="form-group">
                              <label for="add-transaction-date">Date</label>
                              <input type="date" id="add-transaction-date" name="date" required>
                          </div>
                      </div>

                      <div class="form-row">
                          <div class="form-group">
                              <label for="add-transaction-category">Category</label>
                              <select id="add-transaction-category" name="category" required></select>
                          </div>
                          <div class="form-group">
                              <label for="add-transaction-amount">Amount</label>
                              <input type="number" id="add-transaction-amount" name="amount" placeholder="0.00" step="0.01" required>
                          </div>
                      </div>

                      <div class="form-group full-width">
                          <label for="add-transaction-description">Description</label>
                          <input type="text" id="add-transaction-description" name="description" placeholder="Optional description">
                      </div>

                      <hr class="section-divider">

                      <div class="templates-section">
                          <div class="templates-header">
                              <h4>Templates</h4>
                              <button type="button" id="save-as-template" class="secondary-btn">
                                  <i class="fas fa-save"></i> Save as Template
                              </button>
                          </div>
                          <div id="templates-list" class="templates-list">
                              <!-- Templates will be dynamically inserted here -->
                          </div>
                      </div>

                      <div class="form-actions full-width">
                          <button type="submit" class="primary-btn">Add Transaction</button>
                          <button type="button" class="secondary-btn" id="cancel-add-transaction">Cancel</button>
                      </div>
                  </form>
              </div>
          </div>
      
          <!-- Edit Transaction Modal -->
          <div id="edit-transaction-modal" class="modal">
              <div class="modal-backdrop"></div>
              <div class="modal-content">
                  <span class="close" id="close-edit-transaction">&times;</span>
                  <h3>Edit Transaction</h3>
                  <form id="edit-transaction-form">
                    <div class="form-row">
                      <div class="form-group">
                          <label for="edit-transaction-account">Account</label>
                          <select id="edit-transaction-account" name="account" required></select>
                      </div>
                      <div class="form-group">
                          <label for="edit-transaction-type">Type</label>
                          <select id="edit-transaction-type" name="type" required>
                              <option value="income">Income</option>
                              <option value="expense">Expense</option>
                          </select>
                      </div>
                      <div class="form-group">
                          <label for="edit-transaction-date">Date</label>
                          <input type="date" id="edit-transaction-date" name="date" required>
                      </div>
                  </div>
      
                  <div class="form-row">
                      <div class="form-group">
                          <label for="edit-transaction-category">Category</label>
                          <select id="edit-transaction-category" name="category" required></select>
                      </div>
                      <div class="form-group">
                          <label for="edit-transaction-amount">Amount</label>
                          <input type="number" id="edit-transaction-amount" name="amount" placeholder="0.00" step="0.01" required>
                      </div>
                  </div>
      
                  <div class="form-group full-width">
                      <label for="edit-transaction-description">Description</label>
                      <input type="text" id="edit-transaction-description" name="description" placeholder="Optional description">
                  </div>
      
                  <input type="hidden" id="edit-transaction-id" name="id">
      
      
                  <div class="form-actions full-width">
                      <button type="submit" class="primary-btn">Update Transaction</button>
                      <button type="button" class="secondary-btn" id="cancel-edit-transaction">Cancel</button>
                  </div>
                </form>
              </div>
          </div>
      
          <!-- Transactions Table -->
          <div id="transactions-content" class="content">
              <div class="card">
                  <table>
                      <thead>
                          <tr>
                              <th>Date</th>
                              <th>Type</th>
                              <th>Category</th>
                              <th>Amount</th>
                              <th>Description</th>
                              <th class="text-right">Actions</th>
                          </tr>
                      </thead>
                      <tbody id="transactions-table-body"></tbody>
                  </table>
              </div>
          </div>
        </div>

        <!-- Reports Section -->
        <div id="Reports" class="section">
            <div class="section-header">
                <h2>Financial Reports</h2>
                <div style="display: flex; gap: 1rem; align-items: center;">
                    <select id="reports-period-selector" class="select-styled">
                        <option value="month">This Month</option>
                        <option value="quarter">This Quarter</option>
                        <option value="year">This Year</option>
                        <option value="all">All Time</option>
                    </select>
                    <select id="reports-account-selector" class="select-styled">
                        <option value="all">All Accounts</option>
                    </select>
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <h3>Total Income</h3>
                    <div class="value positive">$<span id="reports-total-income">0.00</span></div>
                </div>
                <div class="stat-card">
                    <h3>Total Expenses</h3>
                    <div class="value negative">$<span id="reports-total-expenses">0.00</span></div>
                </div>
                <div class="stat-card">
                    <h3>Net Savings</h3>
                    <div class="value" id="reports-savings-value">$<span id="reports-net-savings">0.00</span></div>
                </div>
                <div class="stat-card">
                    <h3>Savings Rate</h3>
                    <div class="value"><span id="reports-savings-rate">0</span>%</div>
                </div>
            </div>

            <div class="charts-grid">
                <div class="chart-container">
                    <h3>Monthly Comparison</h3>
                    <canvas id="monthlyComparisonChart"></canvas>
                </div>
                <div class="chart-container">
                    <h3>Expense Categories</h3>
                    <canvas id="expenseCategoriesChart"></canvas>
                </div>
                <div class="chart-container">
                    <h3>Income vs Expenses Trend</h3>
                    <canvas id="trendChart"></canvas>
                </div>
                <div class="chart-container">
                    <h3>Top Spending Categories</h3>
                    <div id="top-spending-list" class="spending-list"></div>
                </div>
            </div>
        </div>

        <!-- Categories Section -->
        <div id="Categories" class="section">
            <div class="section-header">
                <h2>Categories</h2>
                <div class="table-controls">
                    <div class="global-search">
                        <input type="text" class="search-input" placeholder="Search categories...">
                        <button class="advanced-filters-btn" data-target="categories-filters">
                            <i class="fas fa-sliders-h"></i>
                            Filters
                        </button>
                    </div>
                    <button class="add-btn" id="show-add-category">+ Add Category</button>
                </div>
            </div>

            <!-- Categories Advanced Filters Panel -->
            <div id="categories-filters" class="advanced-filters-panel">
                <div class="filters-header">
                    <h3>Category Filters</h3>
                    <button class="close-filters"><i class="fas fa-times"></i></button>
                </div>
                <div class="filters-content">
                    <div class="filter-group">
                        <select id="category-type-filter" class="select-styled">
                            <option value="all">All Types</option>
                            <option value="income">Income</option>
                            <option value="expense">Expense</option>
                        </select>
                        <select id="category-usage-filter" class="select-styled">
                            <option value="all">All Categories</option>
                            <option value="active">In Use</option>
                            <option value="unused">Unused</option>
                        </select>
                    </div>
                    <div class="sort-group">
                        <select id="category-sort" class="select-styled">
                            <option value="name-asc">Name (A-Z)</option>
                            <option value="name-desc">Name (Z-A)</option>
                            <option value="usage-desc">Most Used</option>
                            <option value="usage-asc">Least Used</option>
                        </select>
                    </div>
                </div>
                <div class="filters-footer">
                    <button class="secondary-btn small-btn" id="reset-category-filters">Reset</button>
                    <button class="primary-btn small-btn" id="apply-category-filters">Apply</button>
                </div>
            </div>

            <div id="categories-content" class="content">
                

                

                <div class="card">
                    <table>
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Type</th>
                                <th>Usage Count</th>
                                <th>Last Used</th>
                                <th class="text-right">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="categories-table-body">
                        </tbody>
                    </table>
                </div>
            </div>
            
            <div id="add-category-modal" class="modal">
              <div class="modal-backdrop"></div>
              <div class="modal-content">
                  <span class="close" id="close-add-category">&times;</span>
                  <h3>Add Category</h3>
                  <form id="add-category-form">
                      <div class="form-group">
                          <label for="add-category-name">Name</label>
                          <input type="text" id="add-category-name" name="name" required>
                      </div>
                      <div class="form-group">
                          <label for="add-category-type">Type</label>
                          <select id="add-category-type" name="type" required>
                              <option value="income">Income</option>
                              <option value="expense">Expense</option>
                          </select>
                      </div>
                      <div class="form-actions">
                          <button type="submit" class="primary-btn">Add Category</button>
                          <button type="button" class="secondary-btn" id="cancel-add-category">Cancel</button>
                      </div>
                  </form>
              </div>
          </div>

          <!-- Edit Category Modal -->
          <div id="edit-category-modal" class="modal">
              <div class="modal-backdrop"></div>
              <div class="modal-content">
                  <span class="close" id="close-edit-category">&times;</span>
                  <h3>Edit Category</h3>
                  <form id="edit-category-form">
                      <div class="form-group">
                          <label for="edit-category-name">Name</label>
                          <input type="text" id="edit-category-name" name="name" required>
                      </div>
                      <div class="form-group">
                          <label for="edit-category-type">Type</label>
                          <select id="edit-category-type" name="type" required>
                              <option value="income">Income</option>
                              <option value="expense">Expense</option>
                          </select>
                      </div>
                      <input type="hidden" id="edit-category-id" name="id">
                      <div class="form-actions">
                          <button type="submit" class="primary-btn">Update Category</button>
                          <button type="button" class="secondary-btn" id="cancel-edit-category">Cancel</button>
                      </div>
                  </form>
              </div>
          </div>
            <div id="categories-empty-state" class="empty-state">
              <div class="empty-state-icon">
                  <i class="fas fa-tags"></i>
              </div>
              <h3>No Categories Yet</h3>
              <p>Create categories to organize your transactions</p>
              <button class="primary-btn" onclick="document.getElementById('show-add-category').click()">
                  <i class="fas fa-plus"></i> Add Category
              </button>
          </div>
        </div>

        <!-- Recurring Section -->
        <div id="Recurring" class="section">
            <div class="section-header">
                <h2>Recurring</h2>
                <div class="table-controls">
                    <div class="global-search">
                        <input type="text" class="search-input" placeholder="Search recurring transactions...">
                        <button class="advanced-filters-btn" data-target="recurring-filters">
                            <i class="fas fa-sliders-h"></i>
                            Filters
                        </button>
                    </div>
                    <button class="add-btn" id="add-recurring-btn">+ Add Recurring</button>
                </div>
            </div>

            <!-- Recurring Advanced Filters Panel -->
            <div id="recurring-filters" class="advanced-filters-panel">
                <div class="filters-header">
                    <h3>Recurring Filters</h3>
                    <button class="close-filters"><i class="fas fa-times"></i></button>
                </div>
                <div class="filters-content">
                    <div class="filter-group">
                        <select id="recurring-type-filter" class="select-styled">
                            <option value="all">All Types</option>
                            <option value="income">Income</option>
                            <option value="expense">Expense</option>
                        </select>
                        <select id="recurring-category-filter" class="select-styled">
                            <option value="all">All Categories</option>
                        </select>
                    </div>
                    <div class="sort-group">
                        <select id="recurring-sort" class="select-styled">
                            <option value="name-asc">Name (A-Z)</option>
                            <option value="name-desc">Name (Z-A)</option>
                            <option value="amount-desc">Amount (Highest)</option>
                            <option value="amount-asc">Amount (Lowest)</option>
                            <option value="date-desc">Date (Latest)</option>
                            <option value="date-asc">Date (Earliest)</option>
                        </select>
                    </div>
                </div>
                <div class="filters-footer">
                    <button class="secondary-btn" id="reset-recurring-filters">Reset</button>
                    <button class="primary-btn" id="apply-recurring-filters">Apply</button>
                </div>
            </div>

            <div id="add-recurring-modal" class="modal">
                <div class="modal-backdrop"></div>
                <div class="modal-content">
                    <span class="close" id="close-add-recurring">&times;</span>
                    <h3>Add Recurring</h3>
                    <form id="add-recurring-form" class="two-column-form">
                        <div class="form-group">
                            <label for="add-recurring-account">Account</label>
                            <select id="add-recurring-account" name="account" required></select>
                        </div>
                        <div class="form-group">
                            <label for="add-recurring-name">Name</label>
                            <input type="text" id="add-recurring-name" name="name" required placeholder="Netflix, Spotify, etc.">
                        </div>
                        <div class="form-group">
                            <label for="add-recurring-amount">Amount</label>
                            <input type="number" id="add-recurring-amount" name="amount" placeholder="0.00" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label for="add-recurring-category">Category</label>
                            <select id="add-recurring-category" name="category" required></select>
                        </div>
                        <div class="form-group">
                            <label for="add-recurring-billing-date">Billing Date</label>
                            <input type="number" id="add-recurring-billing-date" name="billing-date" min="1" max="31" required placeholder="Day of month (1-31)">
                        </div>
                        <div class="form-group">
                            <label for="add-recurring-type">Type</label>
                            <select id="add-recurring-type" name="type" required>
                                <option value="income">Income</option>
                                <option value="expense">Expense</option>
                            </select>
                        </div>
                        <div class="form-group full-width">
                            <label for="add-recurring-description">Description</label>
                            <input type="text" id="add-recurring-description" name="description" placeholder="Optional description">
                        </div>
                        <div class="form-actions full-width">
                            <button type="submit" class="primary-btn">Add Recurring</button>
                            <button type="button" class="secondary-btn" id="cancel-add-recurring">Cancel</button>
                        </div>
                    </form>
                </div>
            </div>

            <div id="recurring-content" class="content">

                <div class="card">
                    <table>
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Amount</th>
                                <th>Type</th>
                                <th>Category</th>
                                <th>Billing Date</th>
                                <th>Description</th>
                                <th>Status</th>
                                <th class="text-right">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="recurring-table-body">
                        </tbody>
                    </table>
                </div>

                <!-- Edit Recurring Modal -->
                <div id="edit-recurring-modal" class="modal">
                    <div class="modal-backdrop"></div>
                    <div class="modal-content">
                        <span class="close" id="close-edit-recurring">&times;</span>
                        <h3>Edit Recurring</h3>
                        <form id="edit-recurring-form" class="two-column-form">
                            <div class="form-group">
                                <label for="edit-recurring-account">Account</label>
                                <select id="edit-recurring-account" name="account" required></select>
                            </div>
                            <div class="form-group">
                                <label for="edit-recurring-name">Name</label>
                                <input type="text" id="edit-recurring-name" name="name" required placeholder="Netflix, Spotify, etc.">
                            </div>
                            <div class="form-group">
                                <label for="edit-recurring-amount">Amount</label>
                                <input type="number" id="edit-recurring-amount" name="amount" placeholder="0.00" step="0.01" required>
                            </div>
                            <div class="form-group">
                                <label for="edit-recurring-category">Category</label>
                                <select id="edit-recurring-category" name="category" required></select>
                            </div>
                            <div class="form-group">
                                <label for="edit-recurring-billing-date">Billing Date</label>
                                <input type="number" id="edit-recurring-billing-date" name="billing-date" min="1" max="31" required placeholder="Day of month (1-31)">
                            </div>
                            <div class="form-group">
                                <label for="edit-recurring-type">Type</label>
                                <select id="edit-recurring-type" name="type" required>
                                    <option value="income">Income</option>
                                    <option value="expense">Expense</option>
                                </select>
                            </div>
                            
                            <div class="form-group full-width">
                                <label for="edit-recurring-description">Description</label>
                                <input type="text" id="edit-recurring-description" name="description" placeholder="Optional description">
                            </div>
                            <input type="hidden" id="edit-recurring-id" name="id">
                            <div class="form-actions full-width">
                                <button type="submit" class="primary-btn">Update Recurring</button>
                                <button type="button" class="secondary-btn" id="cancel-edit-recurring">Cancel</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <div id="recurring-empty-state" class="empty-state">
              <div class="empty-state-icon">
                  <i class="fas fa-sync"></i>
              </div>
              <h3>No Recurring Transactions</h3>
              <p>Set up recurring payments and income for better tracking</p>
              <button class="primary-btn" onclick="document.getElementById('add-recurring-btn').click()">
                  <i class="fas fa-plus"></i> Add Recurring Transaction
              </button>
          </div>
        </div>

        <!-- Settings Section -->
        <div id="Settings" class="section">
            <div class="section-header">
                <h2>Settings</h2>
            </div>

            <div class="settings-grid">
                <!-- Data Management Card -->
                <div class="settings-card">
                    <h3>Data Management</h3>
                    <p class="settings-description">Export or import your financial data for backup or transfer to another device.</p>
                    <div class="settings-actions">
                        <button class="settings-btn" id="export-btn">
                            <i class="fas fa-download"></i>
                            Export Database
                        </button>
                        <button class="settings-btn" id="export-csv-btn">
                            <i class="fas fa-file-csv"></i>
                            Export as CSV
                        </button>
                        <button class="settings-btn" id="import-btn">
                            <i class="fas fa-upload"></i>
                            Import Database
                        </button>
                        <button class="settings-btn danger" id="delete-db-btn">
                            Delete Database
                        </button>
                    </div>
                </div>

                <!-- Appearance Card -->
                <div class="settings-card">
                    <h3>Appearance</h3>
                    <p class="settings-description">Switch between light and dark mode.</p>
                    <div class="settings-actions">
                        <button class="settings-btn" id="toggle-theme-btn">
                            <i class="fas fa-adjust"></i>
                            Toggle Theme
                        </button>
                    </div>
                </div>

                <!-- About & Updates Card -->
                <div class="settings-card">
                    <h3>About & Updates</h3>
                    <div class="version-info">
                        <p class="settings-description">Current Version: <span id="app-version" class="version-number"></span></p>
                    </div>
                    
                    <div class="update-section">
                        <div class="settings-actions">
                            <button class="settings-btn primary" id="check-updates-btn">
                                <i class="fas fa-sync"></i>
                                Check for Updates
                            </button>
                        </div>
                        <div class="update-status-container">
                            <p class="settings-description update-status" id="update-status"></p>
                            <button class="settings-btn success" id="start-update-btn" style="display: none;">
                                <i class="fas fa-download"></i>
                                Download Update
                            </button>
                        </div>
                    </div>

                    <div class="about-section">
                        <p class="settings-description">
                            Created by <a href="https://metromagic.io" target="_blank" rel="noopener noreferrer">metromagic.io</a>
                        </p>
                    </div>
                </div>

                <!-- License Information Card -->
                <div class="settings-card">
                    <h3>License Information</h3>
                    <div class="license-info">
                        <p>Status: <span class="license-status active"></span></p>
                        <p>License Key: <span id="current-license-key"></span></p>
                        <p>Activated: <span id="license-activation-date"></span></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/date-fns"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
    <script src="./renderer.js" defer></script>

    <!-- Add this right after <body> -->
    <div id="license-overlay" class="license-overlay">

        <div class="window-controls license-window-controls">
            <button class="window-control-button close" id="close-license-btn">
                <i class="fas fa-times-circle"></i>
            </button>
        </div>

        <div class="license-modal">
            <img src="../assets/images/fyenance.png" alt="Fyenance Logo" class="license-logo">
            <h2>Welcome to Fyenance</h2>
            <p>Please enter your license key to continue</p>
            <div class="license-input-group">
                <input type="text" id="license-key-input" placeholder="XXXX-XXXX-XXXX-XXXX">
                <button id="activate-btn">Activate License</button>
            </div>
            <p id="license-status-message"></p>
            <div class="license-footer">
                <p>Don't have a license? <a href="https://www.fyenanceapp.com/buy" id="purchase-link">Purchase Now</a></p>
            </div>
        </div>
    </div>

    <!-- Add this at the end of the body -->
    <div id="delete-db-modal" class="modal">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <span class="close" id="close-delete-db">&times;</span>
            <h3>Delete Database</h3>
            <p class="warning-text">⚠️ This cannot be undone! All your financial data will be permanently deleted.</p>
            <p>Type <strong>DELETE</strong> to confirm:</p>
            <div class="form-group">
                <input type="text" id="delete-db-confirm" placeholder="Type DELETE here">
            </div>
            <div class="form-actions">
                <button type="button" class="danger-btn" id="confirm-delete-db" disabled>Delete Database</button>
                <button type="button" class="secondary-btn" id="cancel-delete-db">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Add this after your other modals -->
    <div id="save-template-modal" class="modal">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <span class="close" id="close-save-template">&times;</span>
            <h3>Save as Template</h3>
            
            <div class="form-group">
                <label for="template-name-input">Template Name</label>
                <input type="text" id="template-name-input" placeholder="Enter template name">
            </div>
            
            <div class="form-actions">
                <button type="button" class="primary-btn" id="save-template-confirm">Save</button>
                <button type="button" class="secondary-btn" id="cancel-save-template">Cancel</button>
            </div>
        </div>
    </div>

    <script src="tutorial.js"></script>
</html>