<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com; connect-src 'self' https://api.github.com;">
    <title>Fyenance</title>
    

    
    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="57x57" href="../assets/images/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="../assets/images/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="../assets/images/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="../assets/images/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="../assets/images/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="../assets/images/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="../assets/images/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="../assets/images/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="../assets/images/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="../assets/images/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../assets/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="../assets/images/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../assets/images/favicon-16x16.png">
    <link rel="manifest" href="../assets/images/manifest.json">
    
    <!-- Meta Tags -->
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="../assets/images/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter+Tight:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/tutorial.css">
    <link rel="stylesheet" href="styles/smart-import.css">
    <link rel="stylesheet" href="styles/components/multiSelect.css">
    <link rel="stylesheet" href="styles/variables.css">
    <link rel="stylesheet" href="styles/components/reports.css">
    <link rel="stylesheet" href="styles/components/currencyConversion.css">
</head>
<body class="preload">
    <!-- Loading Screen -->
    <div class="app-loader">
        <div class="loader-animation">
            <div class="coin"></div>
        </div>
    </div>

    <!-- Header -->
    <header>
        <div class="logo">
            <img src="../assets/images/favicon-96x96.png" alt="Fyenance Logo" class="logo-icon">
            <h1>Fyenance</h1>
        </div>
        
        <!-- Navigation -->
        <nav>
            <button class="tablink active" data-section="Dashboard">
                <i class="fas fa-home"></i>
                <span>Dashboard</span>
            </button>
            <button class="tablink" data-section="Accounts">
                <i class="fas fa-wallet"></i>
                <span>Accounts</span>
            </button>
            <button class="tablink" data-section="Transactions">
                <i class="fas fa-exchange-alt"></i>
                <span>Transactions</span>
            </button>
            <button class="tablink" data-section="Recurring">
                <i class="fas fa-sync"></i>
                <span>Recurring</span>
            </button>
            <button class="tablink" data-section="Categories">
                <i class="fas fa-tags"></i>
                <span>Categories</span>
            </button>
            <button class="tablink" data-section="Reports">
                <i class="fas fa-chart-bar"></i>
                <span>Reports</span>
            </button>
            <button class="tablink" data-section="Projects">
                <i class="fas fa-folder-open"></i>
                <span>Projects</span>
            </button>
            <button class="tablink" data-section="Settings">
                <i class="fas fa-cog"></i>
                <span>Settings</span>
            </button>
        </nav>
        
        <!-- Window Controls -->
        <div class="window-controls">
            <button class="window-control-button minimize-btn" id="minimizeButton">
                <i class="fas fa-minus"></i>
            </button>
            <button class="window-control-button maximize-btn" id="maximizeButton">
                <i class="fas fa-square"></i>
            </button>
            <button class="window-control-button close-btn" id="closeButton">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <div id="content">
        <!-- Dashboard Section -->
        <div id="Dashboard" class="section active">
            <div class="section-header">
                <h2>Dashboard</h2>
                <div class="account-selector">
                    <select id="dashboard-account-selector" class="select-styled">
                        <option value="all">All Accounts</option>
                    </select>
                </div>
            </div>

            <div id="dashboard-content" class="content">
                <!-- Move all dashboard content here (banner, stats-grid, charts-grid) -->
                <div class="dashboard-banner">
                    <div class="banner-content">
                        <div class="banner-stat">
                            <span class="banner-label">Net Worth</span>
                            <h2><span id="total-net-worth">0.00</span></h2>
                        </div>
                        <div class="banner-insights">
                            <div class="insight">
                                <i class="fas fa-chart-line"></i>
                                <span id="monthly-trend">Your spending is 0% lower than last month</span>
                            </div>
                            <div class="insight">
                                <i class="fas fa-calendar-alt"></i>
                                <span id="upcoming-payments">0 recurring payments due this week</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>This Month's Balance</h3>
                        <div class="value"><span id="this-month-balance">0.00</span></div>
                    </div>
                    <div class="stat-card">
                        <h3>This Month's Income</h3>
                        <div class="value positive"><span id="this-month-income">0.00</span></div>
                    </div>
                    <div class="stat-card">
                        <h3>This Month's Expenses</h3>
                        <div class="value negative"><span id="this-month-expenses">0.00</span></div>
                    </div>
                </div>

                <div class="charts-grid">
                    <div class="chart-container daily-spending">
                        <h3>Daily Spending This Month</h3>
                        <canvas id="dailySpendingChart"></canvas>
                    </div>
                    <div class="chart-container upcoming-expenses">
                        <div id="upcomingExpensesCalendar" class="calendar-view"></div>
                    </div>
                </div>
            </div>

            <div class="empty-state-container" id="dashboard-empty-state">
                <div class="empty-state">
                    <div class="empty-state-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3>Welcome to Your Financial Dashboard</h3>
                    <p>Start by adding your first account to track your finances</p>
                    <button class="primary-btn" id="add-first-account-btn">
                        <i class="fas fa-plus"></i> Add Your First Account
                    </button>
                </div>
            </div>
        </div>

        <!-- Accounts Section -->
        <div id="Accounts" class="section">
            <div class="section-header">
                <h2>Accounts</h2>
                <button class="add-btn" id="show-add-account">+ Add Account</button>
            </div>

            <div id="accounts-content" class="content">
                

                

                <div class="card">
                    <table>
                        <thead id="accounts-table-header">
                            <tr>
                                <th>Account Name</th>
                                <th>Starting Balance</th>
                                <th>Current Balance</th>
                                <th>This Month's Change</th>
                                <th>Last Transaction</th>
                                <th>Activity Status</th>
                                <th class="text-right">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="accounts-table-body">
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="add-account-modal" class="modal">
                <div class="modal-backdrop"></div>
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Add New Account</h3>
                        <span class="close" id="close-add-account">&times;</span>
                    </div>
                    
                    <div class="modal-body">
                        <form id="add-account-form">
                            <div class="form-group">
                                <label for="account-name">Account Name</label>
                                <input type="text" id="account-name" name="name" placeholder="e.g., Checking Account" required>
                            </div>
                            <div class="form-group">
                                <label for="account-balance">Initial Balance</label>
                                <input type="number" id="account-balance" name="balance" placeholder="0.00" step="0.01" required>
                                <small class="help-text">Enter the current balance of the account. You can always adjust this later if needed.</small>
                            </div>
                        </form>
                    </div>

                    <div class="modal-footer">
                        <div class="form-actions">
                            <button type="button" class="secondary-btn" id="cancel-add-account">Cancel</button>
                            <button type="submit" form="add-account-form" class="primary-btn">Add Account</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="empty-state-container" id="accounts-empty-state">
                <div class="empty-state">
                    <div class="empty-state-icon">
                        <i class="fas fa-wallet"></i>
                    </div>
                    <h3>No Accounts Yet</h3>
                    <p>Add your bank accounts, credit cards, or cash to start tracking</p>
                    <button class="primary-btn" onclick="document.getElementById('show-add-account').click()">
                        <i class="fas fa-plus"></i> Add Account
                    </button>
                </div>
            </div>
        </div>

        <div id="Transactions" class="section">
          <!-- Header Section -->
          <div class="section-header">
              <h2>Transactions</h2>
              <div class="table-controls">
                  <div class="global-search">
                      <input type="text" class="search-input" placeholder="Search transactions...">
                      <button class="advanced-filters-btn" data-target="transactions-filters">
                        <i class="fas fa-sliders-h"></i>
                        Filters
                      </button>
                  </div>
                  <button class="add-btn" id="add-transaction-btn">+ Add Transaction</button>
              </div>
          </div>
          
          <!-- Transactions Advanced Filters Panel -->
          <div id="transactions-filters" class="advanced-filters-panel">
            <div class="filters-header">
              <h3>Transaction Filters</h3>
              <div class="filters-header-actions">
                <button class="clear-filters" id="reset-transaction-filters">Clear</button>
                <button class="close-filters"><i class="fas fa-times"></i></button>
              </div>
            </div>
            <div class="filters-content">
              <div class="filter-group">
                <select id="transaction-account-filter" class="select-styled">
                  <option value="all">All Accounts</option>
                </select>
              </div>
              <div class="filter-group">
                <select id="transaction-type-filter" class="select-styled">
                  <option value="all">All Types</option>
                  <option value="income">Income</option>
                  <option value="expense">Expense</option>
                </select>
                <select id="transaction-category-filter" class="select-styled">
                  <option value="all">All Categories</option>
                </select>
              </div>
              <div class="sort-group">
                <select id="transaction-sort" class="select-styled">
                  <option value="date-desc">Date (Newest)</option>
                  <option value="date-asc">Date (Oldest)</option>
                  <option value="amount-desc">Amount (Highest)</option>
                  <option value="amount-asc">Amount (Lowest)</option>
                  <option value="description-asc">Description (A-Z)</option>
                  <option value="description-desc">Description (Z-A)</option>
                  <option value="category-asc">Category (A-Z)</option>
                  <option value="category-desc">Category (Z-A)</option>
                  <option value="type-asc">Type (A-Z)</option>
                  <option value="type-desc">Type (Z-A)</option>
                </select>
              </div>
            </div>
          </div>
          
          <div class="entry-tools">
            <div class="quick-entry-container">
                <input type="text" id="quick-entry-input" placeholder="Quick entry (e.g. '11/02 wells fargo 25.99 + 13.49 groceries')" class="quick-entry-input">
                <button class="secondary-btn" id="show-bulk-entry">Bulk Entry</button>
            </div>
          </div>
          
          <!-- Bulk Entry Modal -->
          <div id="bulk-entry-modal" class="modal">
            <div class="modal-backdrop"></div>
            <div class="modal-content wide-modal">
                <div class="modal-header">
                    <h3>Bulk Transaction Entry</h3>
                    <span class="close" id="close-bulk-entry">&times;</span>
                </div>
                
                <div class="modal-body">
                    <div class="bulk-entry-controls">
                        <div class="form-group">
                            <label for="bulk-entry-account">Account</label>
                            <select id="bulk-entry-account" class="select-styled">
                                <!-- Will be populated dynamically -->
                            </select>
                        </div>
                    </div>
                    <div class="action-buttons">
                        <button id="bulk-entry-add-row" class="secondary-btn">
                            <i class="fas fa-plus"></i> Add Row
                        </button>
                        <!-- <button id="bulk-entry-paste" class="secondary-btn" title="Paste from spreadsheet">
                            <i class="fas fa-paste"></i> Paste Data
                        </button> -->
                    </div>
                
                    <div class="bulk-entry-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Amount</th>
                                    <th>Category</th>
                                    <th>Description</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="bulk-entry-tbody">
                                <!-- Rows will be added dynamically -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="secondary-btn" id="close-bulk-entry-btn">Cancel</button>
                    <button type="button" class="primary-btn" id="bulk-entry-submit">
                        <i class="fas fa-save"></i> Save All
                    </button>
                </div>
            </div>
        </div>
          <!-- Empty State -->
          <div class="empty-state-container" id="transactions-empty-state">
              <div class="empty-state">
                  <div class="empty-state-icon">
                      <i class="fas fa-exchange-alt"></i>
                  </div>
                  <h3>No Transactions Yet</h3>
                  <p>Start tracking your income and expenses</p>
                  <button class="primary-btn" onclick="document.getElementById('add-transaction-btn').click()">
                      <i class="fas fa-plus"></i> Add Transaction
                  </button>
              </div>
          </div>
      
          <!-- Add Transaction Modal -->
          <div id="add-transaction-modal" class="modal">
              <div class="modal-backdrop"></div>
              <div class="modal-content">
                  <div class="modal-header">
                      <h3>Add Transaction</h3>
                      <span class="close" id="close-add-transaction">&times;</span>
                  </div>
                  
                  <form id="add-transaction-form">
                      <div class="modal-body">
                          <div class="form-row">
                              <div class="form-group">
                                  <label for="add-transaction-account">Account</label>
                                  <select id="add-transaction-account" name="account" required></select>
                              </div>
                              <div class="form-group">
                                  <label for="add-transaction-date">Date</label>
                                  <input type="date" id="add-transaction-date" name="date" required>
                              </div>
                          </div>

                          <div class="form-row">
                              <div class="form-group">
                                  <label for="add-transaction-category">Category</label>
                                  <select id="add-transaction-category" name="category" required></select>
                              </div>
                              <div class="form-group">
                                  <label for="add-transaction-amount">Amount</label>
                                  <input type="number" id="add-transaction-amount" name="amount" placeholder="0.00" step="0.01" required>
                              </div>
                          </div>

                          <div class="form-group">
                              <label for="add-transaction-description">Description</label>
                              <input type="text" id="add-transaction-description" name="description" placeholder="Optional description">
                          </div>

                          <div class="form-group">
                              <label for="transaction-projects">Projects</label>
                              <select id="transaction-projects" class="project-select" multiple>
                                  <!-- Will be populated dynamically -->
                              </select>
                              <small class="help-text">Hold Ctrl/Cmd to select multiple projects</small>
                          </div>

                          <!-- <div class="templates-section">
                              <div class="templates-header">
                                  <h4>Templates</h4>
                                  <button type="button" id="save-as-template" class="secondary-btn">
                                      <i class="fas fa-save"></i> Save as Template
                                  </button>
                              </div>
                              <div id="templates-list" class="templates-list">
                                
                              </div>
                          </div> -->
                      </div>

                      <div class="modal-footer">
                          <div class="form-actions">
                              <button type="button" class="secondary-btn" id="cancel-add-transaction">Cancel</button>
                              <button type="submit" class="primary-btn">Add Transaction</button>
                          </div>
                      </div>
                  </form>
              </div>
          </div>
      
          <!-- Edit Transaction Modal -->
          <div id="edit-transaction-modal" class="modal">
              <div class="modal-backdrop"></div>
              <div class="modal-content">
                  <div class="modal-header">
                      <h3>Edit Transaction</h3>
                      <span class="close" id="close-edit-transaction">
                        &times;
                      </span>
                  </div>
                  
                  <form id="edit-transaction-form">
                      <div class="modal-body">
                          <div class="form-row">
                              <div class="form-group">
                                  <label for="edit-transaction-account">Account</label>
                                  <select id="edit-transaction-account" name="account" required></select>
                              </div>
                              <div class="form-group">
                                  <label for="edit-transaction-date">Date</label>
                                  <input type="date" id="edit-transaction-date" name="date" required>
                              </div>
                          </div>

                          <div class="form-row">
                              <div class="form-group">
                                  <label for="edit-transaction-category">Category</label>
                                  <select id="edit-transaction-category" name="category" required></select>
                              </div>
                              <div class="form-group">
                                  <label for="edit-transaction-amount">Amount</label>
                                  <input type="number" id="edit-transaction-amount" name="amount" step="0.01" required>
                              </div>
                          </div>

                          <div class="form-group">
                              <label for="edit-transaction-description">Description</label>
                              <input type="text" id="edit-transaction-description" name="description" placeholder="Optional description">
                          </div>

                          <div class="form-group">
                              <label for="edit-transaction-projects">Projects</label>
                              <select id="edit-transaction-projects" class="project-select" multiple>
                                  <!-- Will be populated dynamically -->
                              </select>
                              <small class="help-text">Hold Ctrl/Cmd to select multiple projects</small>
                          </div>

                          <input type="hidden" id="edit-transaction-id" name="id">
                      </div>

                      <div class="modal-footer">
                          <button type="button" class="secondary-btn" id="cancel-edit-transaction">Cancel</button>
                          <button type="submit" class="primary-btn">Update Transaction</button>
                      </div>
                  </form>
              </div>
          </div>
      
          <!-- Transactions Table -->
          <div id="transactions-content" class="content">
              <div class="card">
                  <table>
                      <thead>
                          <tr>
                              <th>Date</th>
                              <th>Account</th>
                              <th>Type</th>
                              <th>Category</th>
                              <th>Amount</th>
                              <th>Description</th>
                              <th class="text-right">Actions</th>
                          </tr>
                      </thead>
                      <tbody id="transactions-table-body"></tbody>
                  </table>
              </div>
          </div>
        </div>

        <!-- Reports Section -->
        <div id="Reports" class="section">
            <div class="section-header">
                <h2>Financial Reports</h2>
                <div style="display: flex; gap: 1rem; align-items: center;">
                    <select id="reports-period-selector" class="select-styled">
                        <option value="month">This Month</option>
                        <option value="quarter">This Quarter</option>
                        <option value="year">This Year</option>
                        <option value="all">All Time</option>
                    </select>
                    <div class="custom-multi-select" id="reports-account-selector">
                        <div class="select-header">
                            <span class="selected-text">Select Accounts</span>
                            <span class="arrow"></span>
                        </div>
                        <div class="select-dropdown">
                            <div class="select-all-option">
                                <input type="checkbox" id="select-all-accounts">
                                <label for="select-all-accounts">Select All</label>
                            </div>
                            <div class="options-container">
                                <!-- Account options will be inserted here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Reports Content -->
            <div id="reports-content" class="content">
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>Total Income</h3>
                        <div class="value positive"><span id="reports-total-income">0.00</span></div>
                    </div>
                    <div class="stat-card">
                        <h3>Total Expenses</h3>
                        <div class="value negative"><span id="reports-total-expenses">0.00</span></div>
                    </div>
                    <div class="stat-card">
                        <h3>Net Savings</h3>
                        <div class="value" id="reports-savings-value"><span id="reports-net-savings">0.00</span></div>
                    </div>
                    <div class="stat-card">
                        <h3>Savings Rate</h3>
                        <div class="value"><span id="reports-savings-rate">0</span>%</div>
                    </div>
                </div>

                <div class="charts-grid">
                    <div class="chart-container">
                        <h3>Comparison Chart</h3>
                        <canvas id="monthlyComparisonChart"></canvas>
                    </div>
                    <div class="chart-container">
                        <h3>Expense Categories</h3>
                        <div id="expenseCategoriesChart"></div>
                    </div>
                    <div class="chart-container">
                        <h3>Income vs Expenses Trend</h3>
                        <canvas id="trendChart"></canvas>
                    </div>
                    <div class="chart-container">
                        <h3>Cash Flow Timeline</h3>
                        <canvas id="cashFlowTimeline"></canvas>
                    </div>
                </div>
                <div class="budget-tracking-section">
                    <h3>Budget Tracking</h3>
                    <table class="budget-tracking-table">
                        <thead>
                            <tr>
                                <th>Category</th>
                                <th>Budget</th>
                                <th>Spent</th>
                                <th>Remaining</th>
                                <th>Status</th>
                                <th>Transactions</th>
                            </tr>
                        </thead>
                        <tbody id="budget-tracking-body">
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Reports Empty State -->
            <div class="empty-state-container" id="reports-empty-state">
                <div class="empty-state">
                    <div class="empty-state-icon">
                        <i class="fas fa-chart-pie"></i>
                    </div>
                    <h3>No Financial Data Yet</h3>
                    <p>Add some transactions to see your financial reports and analytics</p>
                    <div class="empty-state-actions">
                        <button class="primary-btn" onclick="document.getElementById('add-transaction-btn').click()">
                            <i class="fas fa-plus"></i> Add Transaction
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Projects Section -->
        <div id="Projects" class="section">
            <div class="section-header">
                <h2>Projects</h2>
                <button class="add-btn" id="add-project-btn">+ Add Project</button>
            </div>

            <div id="projects-content" class="content">
                <div class="projects-grid">
                    <!-- Projects will be dynamically added here -->
                </div>
            </div>

                <!-- Add Project Modal -->
            <div id="add-project-modal" class="modal">
                <div class="modal-backdrop"></div>
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Add New Project</h3>
                        <span class="close" id="close-add-project">&times;</span>
                    </div>
                    
                    <div class="modal-body">
                        <form id="add-project-form">
                            <div class="form-group">
                                <label for="project-name">Project Name</label>
                                <input type="text" id="project-name" required>
                            </div>
                            <div class="form-group">
                                <label for="project-description">Description</label>
                                <textarea id="project-description" rows="3"></textarea>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="project-budget">Budget</label>
                                    <input type="number" id="project-budget" step="0.01" min="0">
                                </div>
                                <div class="form-group">
                                    <label for="project-status">Status</label>
                                    <select id="project-status">
                                        <option value="active">Active</option>
                                        <option value="completed">Completed</option>
                                        <option value="on-hold">On Hold</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="project-start-date">Start Date</label>
                                    <input type="date" id="project-start-date">
                                </div>
                                <div class="form-group">
                                    <label for="project-end-date">End Date</label>
                                    <input type="date" id="project-end-date">
                                </div>
                            </div>
                        </form>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="secondary-btn" id="cancel-add-project">Cancel</button>
                        <button type="submit" form="add-project-form" class="primary-btn">Create Project</button>
                    </div>
                </div>
            </div>

            <!-- Project Details Modal -->
            <div id="project-details-modal" class="modal">
                <div class="modal-backdrop"></div>
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 id="project-details-title">Project Details</h3>
                        <span class="close" id="close-project-details">&times;</span>
                    </div>

                    <div class="modal-body">
                        <div class="info-grid">
                            <div class="info-item">
                                <span class="label">Status</span>
                                <span id="project-details-status" class="status-badge">Active</span>
                            </div>
                            <div class="info-item">
                                <span class="label">Budget</span>
                                <span id="project-details-budget">0.00</span>
                            </div>
                            <div class="info-item">
                                <span class="label">Income</span>
                                <span id="project-details-income" class="income">0.00</span>
                            </div>
                            <div class="info-item">
                                <span class="label">Spent</span>
                                <span id="project-details-spent" class="expense">0.00</span>
                            </div>
                            <div class="info-item">
                                <span class="label">Duration</span>
                                <span id="project-details-duration">No dates set</span>
                            </div>
                        </div>

                        <div class="description-section">
                            <span class="label">Description</span>
                            <p id="project-details-description">No description provided</p>
                        </div>

                        <div class="transactions-section">
                            <h4>Recurring Transactions</h4>
                            <div id="project-recurring-list" class="transactions-list">
                                <!-- Will be populated dynamically -->
                            </div>
                        </div>

                        <div class="transactions-section">
                            <h4>Transactions</h4>
                            <div id="project-transactions-list" class="transactions-list">
                                <!-- Will be populated dynamically -->
                            </div>
                        </div>
                    </div>

                    <div class="modal-footer">
                        <button class="danger-btn" id="delete-project-btn">Delete Project</button>
                        <button class="secondary-btn" id="edit-project-btn">Edit Project</button>
                        <button class="primary-btn" id="close-project-details-btn">Close</button>
                    </div>
                </div>
            </div>

            <!-- Edit Project Modal -->
            <div id="edit-project-modal" class="modal">
                <div class="modal-backdrop"></div>
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Edit Project</h3>
                        <span class="close" id="close-edit-project">&times;</span>
                    </div>
                    
                    <div class="modal-body">
                        <form id="edit-project-form">
                            <div class="form-group">
                                <label for="edit-project-name">Project Name</label>
                                <input type="text" id="edit-project-name" required>
                            </div>
                            <div class="form-group">
                                <label for="edit-project-description">Description</label>
                                <textarea id="edit-project-description" rows="3"></textarea>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="edit-project-budget">Budget</label>
                                    <input type="number" id="edit-project-budget" step="0.01" min="0">
                                </div>
                                <div class="form-group">
                                    <label for="edit-project-status">Status</label>
                                    <select id="edit-project-status">
                                        <option value="active">Active</option>
                                        <option value="completed">Completed</option>
                                        <option value="on-hold">On Hold</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="edit-project-start-date">Start Date</label>
                                    <input type="date" id="edit-project-start-date">
                                </div>
                                <div class="form-group">
                                    <label for="edit-project-end-date">End Date</label>
                                    <input type="date" id="edit-project-end-date">
                                </div>
                            </div>
                            <input type="hidden" id="edit-project-id">
                        </form>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="secondary-btn" id="cancel-edit-project">Cancel</button>
                        <button type="submit" form="edit-project-form" class="primary-btn">Update Project</button>
                    </div>
                </div>
            </div>

            <!-- Empty State -->
            <div class="empty-state-container" id="projects-empty-state">
                <div class="empty-state">
                    <div class="empty-state-icon">
                        <i class="fas fa-folder-open"></i>
                    </div>
                    <h3>No Projects Yet</h3>
                    <p>Create projects to track related transactions and expenses</p>
                    <button class="primary-btn" onclick="document.getElementById('add-project-btn').click()">
                        <i class="fas fa-plus"></i> Create Project
                    </button>
                </div>
            </div>
        </div>

        <!-- Categories Section -->
        <div id="Categories" class="section">
            <div class="section-header">
                <h2>Categories</h2>
                <div class="table-controls">
                    <div class="global-search">
                        <input type="text" class="search-input" placeholder="Search categories...">
                        <button class="advanced-filters-btn" data-target="categories-filters">
                            <i class="fas fa-sliders-h"></i>
                            Filters
                        </button>
                    </div>
                    <button class="add-btn" id="show-add-category">+ Add Category</button>
                </div>
            </div>

            <!-- Categories Advanced Filters Panel -->
            <div id="categories-filters" class="advanced-filters-panel">
                <div class="filters-header">
                    <h3>Category Filters</h3>
                    <div class="filters-header-actions">
                        <button class="clear-filters" id="reset-category-filters">Clear</button>
                        <button class="close-filters"><i class="fas fa-times"></i></button>
                    </div>
                </div>
                <div class="filters-content">
                    <div class="filter-group">
                        <select id="category-type-filter" class="select-styled">
                            <option value="all">All Types</option>
                            <option value="income">Income</option>
                            <option value="expense">Expense</option>
                        </select>
                        <select id="category-usage-filter" class="select-styled">
                            <option value="all">All Usage</option>
                            <option value="active">Active</option>
                            <option value="unused">Unused</option>
                        </select>
                    </div>
                    <div class="sort-group">
                        <select id="category-sort" class="select-styled">
                            <option value="name-asc">Name (A-Z)</option>
                            <option value="name-desc">Name (Z-A)</option>
                            <option value="usage-desc">Usage (Most)</option>
                            <option value="usage-asc">Usage (Least)</option>
                            <option value="last_used-desc">Last Used (Recent)</option>
                            <option value="last_used-asc">Last Used (Oldest)</option>
                        </select>
                    </div>
                </div>
            </div>

            <div id="categories-content" class="content">
                <div class="card">
                    <table>
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Type</th>
                                <th>Usage Count</th>
                                <th>Last Used</th>
                                <th>Budget Amount</th>
                                <th>Budget Frequency</th>
                                <th class="text-right">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="categories-table-body"></tbody>
                    </table>
                </div>
            </div>

            <!-- Add Category Modal -->
            <div id="add-category-modal" class="modal">
                <div class="modal-backdrop"></div>
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Add Category</h3>
                        <span class="close" id="close-add-category">&times;</span>
                    </div>
                    
                    <div class="modal-body">
                        <form id="add-category-form">
                            <div class="form-group">
                                <label for="add-category-name">Name</label>
                                <input type="text" id="add-category-name" name="name" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="add-category-type">Type</label>
                                <select id="add-category-type" name="type" required>
                                    <option value="income">Income</option>
                                    <option value="expense">Expense</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="add-category-budget">Budget Amount</label>
                                <input type="number" id="add-category-budget" name="budget_amount" step="0.01" min="0">
                            </div>
                            
                            <div class="form-group">
                                <label for="add-category-frequency">Budget Frequency</label>
                                <select id="add-category-frequency" name="budget_frequency">
                                    <option value="">No Budget</option>
                                    <option value="daily">Daily</option>
                                    <option value="weekly">Weekly</option>
                                    <option value="monthly">Monthly</option>
                                    <option value="yearly">Yearly</option>
                                </select>
                            </div>
                        </form>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="secondary-btn" id="cancel-add-category">Cancel</button>
                        <button type="submit" form="add-category-form" class="primary-btn">Add Category</button>
                    </div>
                </div>
            </div>

            <!-- Edit Category Modal -->
            <div id="edit-category-modal" class="modal">
                <div class="modal-backdrop"></div>
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Edit Category</h3>
                        <span class="close" id="close-edit-category">&times;</span>
                    </div>
                    
                    <div class="modal-body">
                        <form id="edit-category-form">
                            <div class="form-group">
                                <label for="edit-category-name">Name</label>
                                <input type="text" id="edit-category-name" name="name" required>
                            </div>
                            <div class="form-group">
                                <label for="edit-category-type">Type</label>
                                <select id="edit-category-type" name="type" required>
                                    <option value="income">Income</option>
                                    <option value="expense">Expense</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="edit-category-budget">Budget Amount</label>
                                <input type="number" id="edit-category-budget" name="budget_amount" step="0.01" min="0" placeholder="0.00">
                            </div>
                            <div class="form-group">
                                <label for="edit-category-frequency">Budget Frequency</label>
                                <select id="edit-category-frequency" name="budget_frequency">
                                    <option value="">No Budget</option>
                                    <option value="daily">Daily</option>
                                    <option value="weekly">Weekly</option>
                                    <option value="monthly">Monthly</option>
                                    <option value="yearly">Yearly</option>
                                </select>
                            </div>
                            <input type="hidden" id="edit-category-id" name="id">
                        </form>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="secondary-btn" id="cancel-edit-category">Cancel</button>
                        <button type="submit" form="edit-category-form" class="primary-btn">Update Category</button>
                    </div>
                </div>
            </div>

            <div class="empty-state-container" id="categories-empty-state">
                <div class="empty-state">
                    <div class="empty-state-icon">
                        <i class="fas fa-tags"></i>
                    </div>
                    <h3>No Categories Yet</h3>
                    <p>Start with our recommended categories or create your own</p>
                    <div class="empty-state-actions">
                        <button class="primary-btn" id="create-default-categories">Use Recommended Categories</button>
                        <button class="secondary-btn" onclick="document.getElementById('show-add-category').click()">
                            Create Custom Category
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Recurring Section -->
        <div id="Recurring" class="section">
            <div class="section-header">
                <h2>Recurring</h2>
                <div class="table-controls">
                    <div class="global-search">
                        <input type="text" class="search-input" placeholder="Search recurring transactions...">
                        <button class="advanced-filters-btn" data-target="recurring-filters">
                            <i class="fas fa-sliders-h"></i>
                            Filters
                        </button>
                    </div>
                    <button class="add-btn" id="add-recurring-btn">+ Add Recurring</button>
                </div>
            </div>

            <!-- Recurring Advanced Filters Panel -->
            <div id="recurring-filters" class="advanced-filters-panel">
                <div class="filters-header">
                    <h3>Recurring Filters</h3>
                    <div class="filters-header-actions">
                        <button class="clear-filters" id="reset-recurring-filters">Clear</button>
                        <button class="close-filters"><i class="fas fa-times"></i></button>
                    </div>
                </div>
                <div class="filters-content">
                    <div class="filter-group">
                        <select id="recurring-account-filter" class="select-styled">
                            <option value="all">All Accounts</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <select id="recurring-type-filter" class="select-styled">
                            <option value="all">All Types</option>
                            <option value="income">Income</option>
                            <option value="expense">Expense</option>
                        </select>
                        <select id="recurring-category-filter" class="select-styled">
                            <option value="all">All Categories</option>
                        </select>
                    </div>
                    <div class="sort-group">
                        <select id="recurring-sort" class="select-styled">
                            <option value="name-asc">Name (A-Z)</option>
                            <option value="name-desc">Name (Z-A)</option>
                            <option value="amount-desc">Amount (Highest)</option>
                            <option value="amount-asc">Amount (Lowest)</option>
                            <option value="date-desc">Date (Latest)</option>
                            <option value="date-asc">Date (Earliest)</option>
                        </select>
                        <select id="recurring-status-filter" class="select-styled">
                            <option value="all">All Status</option>
                            <option value="active">Active</option>
                            <option value="inactive">Inactive</option>
                        </select>
                    </div>
                </div>
            </div>

            <div id="add-recurring-modal" class="modal">
                <div class="modal-backdrop"></div>
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Add Recurring Transaction</h3>
                        <span class="close" id="close-add-recurring">&times;</span>
                    </div>
                    
                    <form id="add-recurring-form">
                        <div class="modal-body">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="add-recurring-name" class="required">Name</label>
                                    <input 
                                        type="text" 
                                        id="add-recurring-name" 
                                        name="name" 
                                        class="form-control" 
                                        required 
                                        placeholder="Enter name for recurring transaction"
                                    >
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="add-recurring-account">Account</label>
                                    <select id="add-recurring-account" name="account" required></select>
                                </div>
                                <div class="form-group">
                                    <label for="add-recurring-category">Category</label>
                                    <select id="add-recurring-category" name="category" required></select>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="add-recurring-amount">Amount</label>
                                    <input type="number" id="add-recurring-amount" name="amount" step="0.01" required>
                                </div>
                                <div class="form-group">
                                    <label for="add-recurring-frequency">Frequency</label>
                                    <select id="add-recurring-frequency" name="frequency" required>
                                        <option value="monthly">Monthly</option>
                                        <option value="weekly">Weekly</option>
                                        <option value="daily">Daily</option>
                                        <option value="yearly">Yearly</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="add-recurring-start-date">Start Date</label>
                                    <input type="date" id="add-recurring-start-date" name="startDate" required>
                                </div>
                                <div class="form-group">
                                    <label for="add-recurring-end-date">End Date (Optional)</label>
                                    <input type="date" id="add-recurring-end-date" name="endDate">
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="add-recurring-projects">Projects</label>
                                <select id="add-recurring-projects" class="project-select" multiple>
                                    <!-- Will be populated dynamically -->
                                </select>
                                <small class="help-text">Hold Ctrl/Cmd to select multiple projects</small>
                            </div>

                            <div class="form-group">
                                <label for="add-recurring-description">Description</label>
                                <input type="text" id="add-recurring-description" name="description" placeholder="Optional description">
                            </div>
                        </div>

                        <div class="modal-footer">
                            <button type="button" class="secondary-btn" id="cancel-add-recurring">Cancel</button>
                            <button type="submit" class="primary-btn">Add Recurring</button>
                        </div>
                    </form>
                </div>
            </div>

            <div id="recurring-content" class="content">

                <div class="card">
                    <table>
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Account</th>
                                <th>Amount</th>
                                <th>Type</th>
                                <th>Category</th>
                                <th>Schedule</th>
                                <th>Description</th>
                                <th>Status</th>
                                <th class="text-right">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="recurring-table-body">
                        </tbody>
                    </table>
                </div>

                <!-- Edit Recurring Modal -->
                <div id="edit-recurring-modal" class="modal">
                    <div class="modal-backdrop"></div>
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Edit Recurring Transaction</h3>
                            <span class="close" id="close-edit-recurring">&times;</span>
                        </div>
                        
                        <form id="edit-recurring-form">
                            <div class="modal-body">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="edit-recurring-name">Name</label>
                                        <input type="text" id="edit-recurring-name" name="name" required>
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="edit-recurring-account">Account</label>
                                        <select id="edit-recurring-account" name="account" required></select>
                                    </div>
                                    <div class="form-group">
                                        <label for="edit-recurring-category">Category</label>
                                        <select id="edit-recurring-category" name="category" required></select>
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="edit-recurring-amount">Amount</label>
                                        <input type="number" id="edit-recurring-amount" name="amount" step="0.01" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="edit-recurring-frequency">Frequency</label>
                                        <select id="edit-recurring-frequency" name="frequency" required>
                                            <option value="monthly">Monthly</option>
                                            <option value="weekly">Weekly</option>
                                            <option value="daily">Daily</option>
                                            <option value="yearly">Yearly</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="edit-recurring-start-date">Start Date</label>
                                        <input type="date" id="edit-recurring-start-date" name="startDate" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="edit-recurring-end-date">End Date (Optional)</label>
                                        <input type="date" id="edit-recurring-end-date" name="endDate">
                                    </div>
                                </div>

                                

                                <div class="form-group">
                                    <label for="edit-recurring-projects">Projects</label>
                                    <select id="edit-recurring-projects" class="project-select" multiple>
                                        <!-- Will be populated dynamically -->
                                    </select>
                                    <small class="help-text">Hold Ctrl/Cmd to select multiple projects</small>
                                </div>

                                <div class="form-group">
                                    <label for="edit-recurring-description">Description</label>
                                    <input type="text" id="edit-recurring-description" name="description" placeholder="Optional description">
                                </div>

                                <input type="hidden" id="edit-recurring-id" name="id">
                            </div>

                            <div class="modal-footer">
                                <button type="button" class="secondary-btn" id="cancel-edit-recurring">Cancel</button>
                                <button type="submit" class="primary-btn">Update Recurring</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <div class="empty-state-container" id="recurring-empty-state">
                <div class="empty-state">
                    <div class="empty-state-icon">
                        <i class="fas fa-sync"></i>
                    </div>
                    <h3>No Recurring Transactions</h3>
                    <p>Set up recurring payments and income for better tracking</p>
                    <button class="primary-btn" onclick="document.getElementById('add-recurring-btn').click()">
                        <i class="fas fa-plus"></i> Add Recurring Transaction
                    </button>
                </div>
            </div>

        </div>

        <!-- Settings Section -->
        <div id="Settings" class="section">
            <div class="section-header">
                <h2>Settings</h2>
            </div>

            <div class="settings-grid">

                <!-- Appearance & Preferences Card -->
                <div class="settings-card">
                    <h3>Appearance & Preferences</h3>
                    <p class="settings-description">Customize the app's appearance, navigation style, and currency preferences.</p>
                    <div class="settings-actions">
                        <button class="settings-btn" id="toggle-theme-btn" data-section="toggle-theme-btn">
                            <i class="fas fa-adjust"></i>
                            Toggle Theme
                        </button>
                        <button class="settings-btn" id="toggle-nav-style-btn">
                            <i class="fas fa-bars"></i>
                            Static Navigation
                        </button>
                        <!-- Currency Preference Card -->
                        <div class="currency-select-container">
                            <select id="currency-preference-setting" class="currency-select">
                                <!-- Will be populated dynamically -->
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Exchange Rates Card -->
                <div class="settings-card">
                    <div class="exchange-rate-header">
                        <div class="header-left">
                            <h3>Exchange Rates</h3>
                            <p class="settings-description">View current exchange rates between currencies.</p>
                        </div>
                        <div class="currency-converter">
                            <input type="text" id="exchange-amount" value="1">
                            <select id="from-currency"></select>
                            <button type="button" id="swap-currencies" class="swap-btn">
                                <i class="fas fa-exchange-alt"></i>
                            </button>
                            <select id="to-currency"></select>
                            <span class="equals">=</span>
                            <input type="text" id="exchange-result" readonly>
                        </div>
                    </div>
                    <small class="last-updated">Last updated: <span id="rates-last-updated">...</span></small>
                </div>

                <!-- Data Management Card -->
                <div class="settings-card">
                    <h3>Data Management</h3>
                    <p class="settings-description">Export or import your financial data for backup or transfer to another device.</p>
                    <div class="settings-actions">
                        <button class="settings-btn" id="smart-import-btn" data-section="smart-import-btn">
                            <i class="fas fa-file-import"></i>
                            Import Bank Statement 
                            <span class="beta-tag">(Beta)</span>
                        </button>
                        <button class="settings-btn" id="import-btn">
                            <i class="fas fa-upload"></i>
                            Import Database
                        </button>
                        <button class="settings-btn" id="export-btn">
                            <i class="fas fa-download"></i>
                            Export Database
                        </button>
                        <button class="settings-btn" id="export-csv-btn">
                            <i class="fas fa-file-csv"></i>
                            Export as CSV
                        </button>
                        <button class="settings-btn danger" id="delete-db-btn">
                            Delete Database
                        </button>
                    </div>
                    <div class="backups-section">
                        <div class="backups-header">
                            <h4>Backups</h4>
                            <button class="settings-btn" id="create-backup-btn">
                                <i class="fas fa-save"></i>
                                Backup Now
                            </button>
                        </div>
                        <p class="settings-description">Recent automatic backups of your data.</p>
                        <div class="backups-list">
                            <div class="backups-recent"></div>
                            <div class="backups-expanded hidden">
                                <!-- Additional backups will be listed here -->
                            </div>
                            <button class="show-more-btn hidden">
                                <i class="fas fa-chevron-down"></i>
                                Show More
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- About & Updates Card -->
                <div class="settings-card">
                    <h3>About & Updates</h3>
                    <div class="version-info">
                        <p class="settings-description">Current Version: <span id="app-version" class="version-number"></span></p>
                    </div>
                    
                    <div class="update-section">
                        <div class="settings-actions">
                            <button class="settings-btn primary" id="check-updates-btn">
                                <i class="fas fa-sync"></i>
                                Check for Updates
                            </button>
                        </div>
                        <div class="update-status-container">
                            <p class="settings-description update-status" id="update-status"></p>
                            <button class="settings-btn success" id="start-update-btn" style="display: none;">
                                <i class="fas fa-download"></i>
                                Download Update
                            </button>
                        </div>
                    </div>

                    <div class="about-section">
                        <p class="settings-description">
                            Created by <a href="https://metromagic.io" target="_blank" rel="noopener noreferrer">metromagic.io</a>
                        </p>
                    </div>
                </div>

                <!-- License Information Card -->
                <div class="settings-card">
                    <h3>License Information</h3>
                    <div class="license-info">
                        <p>Status: <span class="license-status active"></span></p>
                        <p>License Key: <span id="current-license-key"></span></p>
                        <p>Activated: <span id="license-activation-date"></span></p>
                    </div>
                </div>

                <!-- Help & Support Card -->
                <div class="settings-card">
                    <h3>Help & Support</h3>
                    <div class="help-support-section">
                        <div class="help-item">
                            <i class="fas fa-book"></i>
                            <div class="help-content">
                                <h4>Help & Documentation</h4>
                                <p>Browse our support articles, guides and tutorials</p>
                                <a href="https://fyenanceapp.com/help" class="help-link" id="docs-link">
                                    <i class="fas fa-external-link-alt"></i> View Support Pages
                                </a>
                            </div>
                        </div>
                        <div class="help-item">
                            <i class="fas fa-envelope"></i>
                            <div class="help-content">
                                <h4>Contact Support</h4>
                                <p>Need help? Our support team is here for you</p>
                                <a href="mailto:hi@fyenanceapp.com" class="help-link" id="support-email-link">
                                    <i class="fas fa-envelope"></i> Email Support
                                </a>
                            </div>
                        </div>
                        <div class="help-item">
                            <i class="fas fa-comments"></i>
                            <div class="help-content">
                                <h4>Feature Requests & Issues</h4>
                                <p>Submit features or issues on our board</p>
                                <a href="https://fyenanceapp.com/logs" class="help-link" id="issues-link">
                                    <i class="fas fa-bug"></i> View Board
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                

            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/date-fns"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
    <script type="module" src="./renderer.js"></script>

    <div id="license-overlay" class="license-overlay">

        <div class="window-controls license-window-controls">
            <button class="window-control-button close" id="close-license-btn">
                <i class="fas fa-times-circle"></i>
            </button>
        </div>

        <div class="license-modal">
            <img src="../assets/images/fyenance.png" alt="Fyenance Logo" class="license-logo">
            <h2>Welcome to Fyenance</h2>
            <p>Please enter your license key to continue</p>
            <div class="license-input-group">
                <input type="text" id="license-key-input" placeholder="XXXX-XXXX-XXXX-XXXX">
                <button id="activate-btn">Activate License</button>
            </div>
            <p id="license-status-message"></p>
            <div class="license-footer">
                <p>Don't have a license? <a href="https://www.fyenanceapp.com/buy" id="purchase-link">Purchase Now</a></p>
            </div>
        </div>
    </div>

    <div id="smart-import-modal" class="modal">
        <div class="modal-backdrop"></div>
        <div class="modal-content wide-modal">
            <!-- Fixed Header -->
            <div class="smart-import-header">
                <div class="smart-import-header-content">
                    <h3>Import Bank Statement</h3>
                    <span class="close" id="close-smart-import">&times;</span>
                </div>
                
                <div class="step-progress">
                    <div class="step-item active" data-step="1">
                        <i class="fas fa-file-upload"></i>
                        <span>Upload File</span>
                    </div>
                    <div class="step-item" data-step="2">
                        <i class="fas fa-columns"></i>
                        <span>Map Columns</span>
                    </div>
                    <div class="step-item" data-step="3">
                        <i class="fas fa-check-circle"></i>
                        <span>Review & Import</span>
                    </div>
                </div>
            </div>

            <!-- Scrollable Content Area -->
            <div class="modal-body">
                <div class="import-steps">
                    <!-- Step 1 content -->
                    <div class="import-step" id="step-1">
                        <div class="form-group">
                            <label for="import-account-select">Select Account</label>
                            <select id="import-account-select" class="select-styled">
                                <option value="">Choose an account</option>
                            </select>
                        </div>

                        <div class="file-upload-area">
                            <input type="file" id="statement-file" accept=".csv,.pdf" style="display: none;">
                            <div class="upload-zone" id="trigger-file-upload">
                                <i class="fas fa-cloud-upload-alt"></i>
                                <p>Drop your bank statement here or click to browse</p>
                                <p class="file-types">Supported formats: CSV, PDF</p>
                            </div>
                            <div id="file-name" class="file-name"></div>
                        </div>
                    </div>

                    <!-- Step 2 content -->
                    <div class="import-step" id="step-2" style="display: none;">
                        <div class="auto-detect-message">
                            <i class="fas fa-magic"></i>
                            We've automatically detected the columns based on your statement
                        </div>
                        
                        <div class="column-mapping">
                            <div class="mapping-preview">
                                <table id="preview-table" class="preview-table"></table>
                            </div>
                            
                            <div class="mapping-controls">
                                <div class="mapping-field">
                                    <label>Date Column</label>
                                    <select id="date-column" class="select-styled"></select>
                                    <span class="helper-text">Select the column containing transaction dates</span>
                                </div>
                                
                                <div class="mapping-field">
                                    <label>Amount Column</label>
                                    <select id="amount-column" class="select-styled"></select>
                                    <span class="helper-text">Choose how amounts are represented in your statement</span>
                                </div>
                                
                                <div class="mapping-field">
                                    <label>Description Column</label>
                                    <select id="description-column" class="select-styled"></select>
                                    <span class="helper-text">Select the column containing transaction details</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Step 3 content -->
                    <div class="import-step" id="step-3" style="display: none;">
                        <!-- Summary stats -->
                        <div class="summary-stats">
                            <div class="summary-stat-card">
                                <span class="stat-label">Total Transactions</span>
                                <div class="stat-value" id="total-tx">0</div>
                            </div>
                            <div class="summary-stat-card">
                                <span class="stat-label">New Transactions</span>
                                <div class="stat-value" id="new-tx">0</div>
                            </div>
                            <div class="summary-stat-card">
                                <span class="stat-label">Duplicates Found</span>
                                <div class="stat-value" id="duplicate-tx">0</div>
                            </div>
                        </div>

                        <!-- Transaction preview list -->
                        <div class="transaction-list">

                            <!-- Preview list will be populated here -->
                            <div id="preview-list"></div>

                            <!-- Pagination -->
                            <div class="si-pagination">
                                <div class="si-pagination-info">
                                    Showing <span id="showing-start">1</span>-<span id="showing-end">10</span> of <span id="total-items">0</span>
                                </div>
                                <div class="si-pagination-controls">
                                    <button id="prev-page" disabled>
                                        <i class="fas fa-chevron-left"></i>
                                        Previous
                                    </button>
                                    <button id="next-page" disabled>
                                        Next
                                        <i class="fas fa-chevron-right"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Fixed Footer -->
            <div class="modal-footer">
                <button class="secondary-btn" id="prev-step" style="display: none;">
                    <i class="fas fa-arrow-left"></i> Back
                </button>
                <button class="primary-btn" id="next-step">
                    Next <i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Delete Database Modal -->
    <div id="delete-db-modal" class="modal">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Delete Database</h3>
                <span class="close" id="close-delete-db">&times;</span>
            </div>
            
            <div class="modal-body">
                <p class="warning-text"> This cannot be undone! All your financial data will be permanently deleted.</p>
                <p>Type <strong>DELETE</strong> to confirm:</p>
                <div class="form-group">
                    <input type="text" 
                           id="delete-db-confirm" 
                           class="form-control" 
                           placeholder="Type DELETE to confirm">
                </div>
            </div>

            <div class="modal-footer">
                <div class="form-actions">
                    <button type="button" 
                            class="secondary-btn" 
                            id="cancel-delete-db">Cancel</button>
                    <button type="button" 
                            class="danger-btn" 
                            id="confirm-delete-db" 
                            disabled>Delete Database</button>
                </div>
            </div>
        </div>
    </div>

    <div id="save-template-modal" class="modal">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <span class="close" id="close-save-template">&times;</span>
            <h3>Save as Template</h3>
            
            <div class="form-group">
                <label for="template-name-input">Template Name</label>
                <input type="text" id="template-name-input" placeholder="Enter template name">
            </div>
            
            <div class="form-actions">
                <button type="button" class="primary-btn" id="save-template-confirm">Save</button>
                <button type="button" class="secondary-btn" id="cancel-save-template">Cancel</button>
            </div>
        </div>
    </div>

    <script type="module" src="components/tutorial.js"></script>


</html>